{% extends 'base.html' %}
{% block mainBody %}
<div class="main">
  <v-autocomplete
    v-model="dataset_values"
    v-bind:items="dataset_items"
    filled
    rounded
    chips
    deletable-chips
    dense
    small-chips
    label="選擇訓練資料"></v-autocomplete>
    <v-row>
      <v-col>
        <div v-html="data_descr"></div>
      </v-col>
    </v-row>
</div>

{% endblock %}

{% block script %}

<script type="module">
    new Vue({
      el: '#app',
      vuetify: new Vuetify({
        theme: { dark: true }
      }),
      data() {
        return {
          testData: '123',
          dataset_items: ['房價資料'],
          dataset_values: [],
          data_descr :'123',
        }
      },
      created() {
       
      },
      watch:{
        dataset_values(val){
          axios.post('./test/',{datasset_name:val})
          .then((resp) => {
            let data = resp.data 
            this.data_descr = data.descr
            console.log(data)
          })
          .catch((e) => {})
        }
      },
      methods: {
        getCookie(name = 'csrftoken') {
          var value = '; ' + document.cookie
          var parts = value.split('; ' + name + '=')
          if (parts.length === 2) return parts.pop().split(';').shift()
        }
      },
      delimiters: ['[[', ']]'],
       //mixins:[mixinData],
    })
  </script>
{% endblock %}
